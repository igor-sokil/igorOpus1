TEST_CASE(SUITE("20MixedVariationAssignments"))
{
    OutstationTestObject t(OutstationConfig(),
                           configure::from({{0, configure::analog(StaticAnalogVariation::Group30Var1)},
                                            {1, configure::analog(StaticAnalogVariation::Group30Var2)}}));

    t.LowerLayerUp();

    t.SendToOutstation("C0 01 3C 01 06"); // Read class 0

    // check that the response uses both g30v1 & g30v2
    REQUIRE(t.lower->PopWriteAsHex() == "C0 81 80 00 1E 01 00 00 00 02 00 00 00 00 1E 02 00 01 01 02 00 00");
}
