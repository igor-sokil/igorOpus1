TEST_CASE(SUITE("4RejectsAssignClassWithParamErrorIfRangeIsInvalid"))
{
    OutstationConfig config;
    OutstationTestObject t(config, configure::by_count_of::binary_input(5));
    t.application->supportsAssignClass = true;
    t.LowerLayerUp();

    // assign binaries 0 -> 5 (invalid range) to class 2
    t.SendToOutstation("C0 16 3C 03 06 01 00 01 00 00 05 00");
    REQUIRE(t.lower->PopWriteAsHex() == "C0 81 80 04");

    REQUIRE(t.application->classAssignments.size() == 1);
}
