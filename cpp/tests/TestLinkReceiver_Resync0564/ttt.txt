// Test that the parser is able to resync without discarding
// Проверяем, может ли парсер выполнить повторную синхронизацию без отбрасывания
TEST_CASE(SUITE("Resync0564"))
{
    LinkParserTest t;
    t.WriteData("05 64 05 64 05 C0 01 00 00 04 E9 21");
    REQUIRE(t.parser.Statistics().numHeaderCrcError == 1);
    REQUIRE(t.sink.m_num_frames == 1);
    REQUIRE(t.sink.CheckLast(LinkFunction::PRI_RESET_LINK_STATES, true, 1, 1024));
}
